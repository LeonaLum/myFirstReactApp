import { Link } from 'react-router-dom';
import { useState, useEffect, useRef } from 'react';
import { NavLink } from "react-router-dom";

const Navbar = () => {
  const [appAmount, setAppAmount] = useState(null);
  useEffect(() => {
    fetch('http://localhost:8000/apps')
      .then(res => {
        return res.json()
      })
      .then(data => {
        setAppAmount(data.length)
      })
  }, []);

  return ( 
 
    <nav className="navbar">
        <ul className="container-top options-list">
         <h1 className="logo">Sweet</h1>
          <li className="nav-item">
            <NavLink 
            activeStyle={{ backgroundColor: "#333333", borderLeft: "solid 2px #64B867"}}
               to="/applications">
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fillRule="evenodd" clipRule="evenodd" d="M0 3.5H3.5V0H0V3.5ZM5.25 14H8.75V10.5H5.25V14ZM3.5 14H0V10.5H3.5V14ZM0 8.75H3.5V5.25H0V8.75ZM8.75 8.75H5.25V5.25H8.75V8.75ZM10.5 0V3.5H14V0H10.5ZM8.75 3.5H5.25V0H8.75V3.5ZM10.5 8.75H14V5.25H10.5V8.75ZM14 14H10.5V10.5H14V14Z" fill="white"/>
              </svg>
              APPLICATIONS <div className="app-amount"><p>{appAmount}</p></div>
            </NavLink>
          </li>

          <li className="nav-item">
            <Link to="/">
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.62689 7.95483C7.41762 7.96132 7.20834 7.96493 7.00003 7.96493C6.79099 7.96493 6.581 7.96156 6.37124 7.95483C4.6054 7.90648 3.1982 7.65703 2.18502 7.30126C1.70874 7.14058 1.30102 6.95151 0.986145 6.73526V8.44578V8.56605V8.68633V8.99639C1.67074 9.71105 3.96747 10.3701 6.99979 10.3701C10.0321 10.3701 12.3288 9.71105 13.0134 8.99639V8.68633V8.56605V8.44578V6.73526C12.6964 6.95295 12.2851 7.14347 11.8047 7.30463C10.792 7.65872 9.38768 7.90672 7.62689 7.95483Z" fill="white"/>
              <path d="M0.986145 3.58145V5.29197V5.41224V5.53252V5.84258C1.6207 6.50504 3.64009 7.11988 6.34695 7.20599C6.37461 7.20696 6.40299 7.2072 6.4309 7.20792C6.50932 7.21008 6.58749 7.21225 6.66711 7.21345C6.77704 7.21537 6.88793 7.21634 6.99979 7.21634C7.11164 7.21634 7.22253 7.21537 7.33246 7.21369C7.41184 7.21249 7.49026 7.21032 7.56868 7.20816C7.59658 7.20744 7.62497 7.20696 7.65263 7.20623C10.3595 7.11988 12.3789 6.50504 13.0134 5.84282V5.53252V5.41224V5.29197V3.58145C11.8427 4.3856 9.36772 4.81088 6.99979 4.81088C4.63186 4.81088 2.15712 4.3856 0.986145 3.58145Z" fill="white"/>
              <path d="M12.981 2.05474C12.7111 1.02015 10.6356 0 6.99979 0C3.37308 0 1.29982 1.0151 1.02151 2.04704C1.00106 2.0824 0.986145 2.12113 0.986145 2.16491V2.28518V2.71961C1.66857 3.43187 3.94895 4.08928 6.99979 4.08928C10.0506 4.08928 12.3312 3.43187 13.0134 2.71961V2.28518V2.16491C13.0134 2.1245 13 2.08818 12.981 2.05474Z" fill="white"/>
              <path d="M0.986145 9.86237V11.8351C0.986145 11.874 0.996489 11.9109 1.01429 11.9436C1.29837 13.121 3.83998 14 6.99979 14C10.1524 14 12.6899 13.1246 12.9834 11.9515C13.0026 11.9169 13.0134 11.8772 13.0134 11.8351V9.86285C12.0188 10.5631 9.96932 11.1134 6.99979 11.1134C4.03001 11.1134 1.98056 10.5626 0.986145 9.86237Z" fill="white"/>
              </svg>
              DATA SOURCES
            </Link>
          </li>

          <li className="nav-item">
            <Link to="/">
              <svg width="14" height="10" viewBox="0 0 14 10" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fillRule="evenodd" clipRule="evenodd" d="M6.993 2.1C6.993 3.262 6.062 4.2 4.9 4.2C3.738 4.2 2.8 3.262 2.8 2.1C2.8 0.938 3.738 0 4.9 0C6.062 0 6.993 0.938 6.993 2.1ZM11.893 3.15C11.893 4.116 11.116 4.9 10.15 4.9C9.184 4.9 8.4 4.116 8.4 3.15C8.4 2.184 9.184 1.4 10.15 1.4C11.116 1.4 11.893 2.184 11.893 3.15ZM10.15 6.3C8.869 6.3 6.3 6.944 6.3 8.225V9.8H14V8.225C14 6.944 11.431 6.3 10.15 6.3ZM0 8.05C0 6.419 3.269 5.6 4.9 5.6C5.362 5.6 5.95 5.67 6.559 5.796C5.131 6.587 4.9 7.63 4.9 8.225V9.8H0V8.05Z" fill="white"/>
              </svg>
              USER MANAGEMENT
            </Link>
          </li>

          <li className="nav-item">
            <Link to="/">
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.00053 8.20651C7.66688 8.20651 8.20706 7.66633 8.20706 6.99998C8.20706 6.33364 7.66688 5.79346 7.00053 5.79346C6.33419 5.79346 5.79401 6.33364 5.79401 6.99998C5.79401 7.66633 6.33419 8.20651 7.00053 8.20651Z" fill="white"/>
              <path d="M13.7155 5.80419L12.0292 5.488C11.9267 5.14692 11.7923 4.81974 11.6258 4.51195L12.6016 3.08537C12.6919 2.95334 12.6731 2.75472 12.5599 2.64179L11.3569 1.43845C11.2436 1.32524 11.0453 1.307 10.9139 1.39705L9.4864 2.37339C9.16964 2.20256 8.83232 2.0656 8.48053 1.96224L8.16608 0.284621C8.13655 0.127399 7.98367 0 7.82326 0H6.12191C5.96179 0 5.80862 0.127399 5.7788 0.284621L5.46088 1.97874C5.12356 2.08182 4.80014 2.21616 4.49554 2.38178L3.08662 1.41789C2.95459 1.32756 2.75597 1.34609 2.64304 1.4593L1.4397 2.66264C1.32649 2.77585 1.30825 2.97419 1.3983 3.10622L2.36827 4.52382C2.20497 4.82842 2.07264 5.15156 1.9713 5.48829L0.285003 5.80419C0.12807 5.83401 0.000671387 5.98718 0.000671387 6.14729V7.84865C0.000671387 8.00877 0.12807 8.16194 0.285003 8.19205L1.97015 8.50794C2.07293 8.85192 2.20844 9.182 2.3758 9.4921L1.41683 10.8941C1.32649 11.0261 1.34502 11.2247 1.45823 11.3374L2.66129 12.5404C2.7745 12.6539 2.97283 12.6719 3.10487 12.5824L4.50626 11.6231C4.80767 11.7862 5.12762 11.9188 5.46146 12.0213L5.77909 13.716C5.80891 13.8732 5.96208 14 6.1222 14H7.82384C7.98425 14 8.13684 13.8732 8.16695 13.716L8.48169 12.0381C8.82914 11.9356 9.16327 11.8003 9.47714 11.6324L10.8962 12.6035C11.0282 12.6939 11.2268 12.6753 11.3398 12.5615L12.5422 11.3591C12.656 11.2456 12.674 11.0478 12.5842 10.9155L11.6186 9.50455C11.7891 9.19068 11.9261 8.85684 12.0306 8.50852L13.7155 8.19263C13.8721 8.16252 13.9992 8.00935 13.9992 7.84923V6.14787C14.0004 5.98718 13.8727 5.83401 13.7155 5.80419ZM7.00067 9.92004C5.38849 9.92004 4.08121 8.61276 4.08121 6.99971C4.08121 5.38782 5.38849 4.08024 7.00067 4.08024C8.61343 4.08024 9.92101 5.38782 9.92101 6.99971C9.92101 8.61276 8.61285 9.92004 7.00067 9.92004Z" fill="white"/>
              </svg>
              SETTINGS
            </Link>
          </li>  
        </ul>
        <ul className="container-bottom options-list">
          <li className="nav-item">
            <Link to="/">
              SUPPORT
            </Link>
          </li>
          <li className="nav-item">
            <Link to="/">
              Knowledge base
            </Link>
          </li>
          <li className="nav-item">
            <Link to="/">
              Contact us
            </Link>
          </li>

        </ul>
    </nav>
   );
}
 
export default Navbar;